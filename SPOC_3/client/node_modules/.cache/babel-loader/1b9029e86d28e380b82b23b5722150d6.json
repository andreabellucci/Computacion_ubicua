{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noefu\\\\Desktop\\\\asignaturas\\\\ub\\xEDcua\\\\labs y practicas\\\\Computacion_ubicua\\\\SPOC_3\\\\client\\\\src\\\\components\\\\Simon.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { Context } from \"./Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Simon() {\n  _s();\n\n  const {\n    value6\n  } = useContext(Context);\n  const [currentView, setCurrentView] = value6;\n  const [inGame, setInGame] = useState(false);\n  const [movementSimonStack, setMovementSimonStack] = useState([]);\n  const [userStackIndex, setUserStackIndex] = useState(0);\n  const [movementCounter, setMovementCounter] = useState(0);\n\n  function startGame() {\n    console.log(\"starting game...\");\n    setInGame(true);\n    setMovementSimonStack([]);\n    setUserStackIndex(0);\n    setMovementCounter(1);\n    setTimeout(simonMovement, 1000);\n  }\n\n  function simonMovement() {\n    let randomColor = Math.floor(Math.random() * 4); // rng [0,3]\n\n    switch (randomColor) {\n      case 0:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"yellow\"]);\n        darkenColor(\"yellow\");\n        break;\n\n      case 1:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"blue\"]);\n        darkenColor(\"blue\");\n        break;\n\n      case 2:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"red\"]);\n        darkenColor(\"red\");\n        break;\n\n      case 3:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"green\"]);\n        darkenColor(\"green\");\n        break;\n    }\n\n    setMovementCounter(movementCounter + 1);\n    setUserStackIndex(0);\n  }\n\n  function printPrevStack() {\n    // Print all the previous simon movements\n    for (let i = 0; i < movementSimonStack.length; i++) {\n      setTimeout(() => darkenColor(movementSimonStack[i]), (i + 1) * 1000);\n    } // Finally make simon move\n\n\n    setTimeout(simonMovement, (movementSimonStack.length + 1) * 1000);\n  }\n\n  function darkenColor(color) {\n    switch (color) {\n      case \"yellow\":\n        document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"#887b02\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"#ffea37\";\n        }, 700);\n        break;\n\n      case \"blue\":\n        document.getElementById(\"simon_part_blue\").style.backgroundColor = \"#2e268a\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_blue\").style.backgroundColor = \"#4b3edd\";\n        }, 700);\n        break;\n\n      case \"red\":\n        document.getElementById(\"simon_part_red\").style.backgroundColor = \"#69241e\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_red\").style.backgroundColor = \"#dd4b3e\";\n        }, 700);\n        break;\n\n      case \"green\":\n        document.getElementById(\"simon_part_green\").style.backgroundColor = \"#26752d\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_green\").style.backgroundColor = \"#3edd4b\";\n        }, 700);\n        break;\n    }\n  }\n\n  function colorChoice(color) {\n    if (inGame) {\n      darkenColor(color);\n\n      if (!movementSimonStack[userStackIndex] === color) {\n        alert(\"Sequence NOT correct, you lose\");\n        setInGame(false);\n      }\n\n      console.log(\"userIndex: \" + userStackIndex + \", MovsSimon: \" + movementCounter);\n\n      if (userStackIndex === movementCounter - 1) {\n        printPrevStack();\n      } else {\n        setUserStackIndex(prev => prev + 1);\n      }\n    } else {\n      alert(\"Press PLAY BUTTON to start the game\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: currentView === \"simon\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"simon_game_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"upper_simon\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_yellow\",\n          onClick: () => colorChoice(\"yellow\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_blue\",\n          onClick: () => colorChoice(\"blue\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"lower_simon\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_red\",\n          onClick: () => colorChoice(\"red\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_green\",\n          onClick: () => colorChoice(\"green\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"simon_game_info\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onClick: () => startGame(),\n          className: \"simon_button\",\n          value: \"\\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onClick: () => setInGame(false),\n          className: \"simon_button\",\n          value: \"\\t\\u23F9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Simon, \"XsSNabPrVH6NgColeiMAhS7+NFE=\");\n\n_c = Simon;\n\nvar _c;\n\n$RefreshReg$(_c, \"Simon\");","map":{"version":3,"sources":["C:/Users/Noefu/Desktop/asignaturas/ub√≠cua/labs y practicas/Computacion_ubicua/SPOC_3/client/src/components/Simon.js"],"names":["React","useContext","useState","Context","Simon","value6","currentView","setCurrentView","inGame","setInGame","movementSimonStack","setMovementSimonStack","userStackIndex","setUserStackIndex","movementCounter","setMovementCounter","startGame","console","log","setTimeout","simonMovement","randomColor","Math","floor","random","prevMovementSimonStack","darkenColor","printPrevStack","i","length","color","document","getElementById","style","backgroundColor","colorChoice","alert","prev"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"./Context\";\r\n\r\nexport default function Simon() {\r\n\r\n  const { value6 } = useContext(Context);\r\n  const [currentView, setCurrentView] = value6;\r\n  const [inGame, setInGame] = useState(false);\r\n  const [movementSimonStack, setMovementSimonStack] = useState([]);\r\n  const [userStackIndex, setUserStackIndex] = useState(0);\r\n  const [movementCounter, setMovementCounter] = useState(0);\r\n\r\n  function startGame() {\r\n    console.log(\"starting game...\");\r\n    setInGame(true);\r\n    setMovementSimonStack([]);\r\n    setUserStackIndex(0);\r\n    setMovementCounter(1);\r\n\r\n    setTimeout(simonMovement, 1000);\r\n  }\r\n\r\n  function simonMovement() {\r\n    let randomColor = Math.floor(Math.random() * 4); // rng [0,3]\r\n\r\n    switch (randomColor) {\r\n      case 0:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"yellow\"]);\r\n        darkenColor(\"yellow\");\r\n        break;\r\n      case 1:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"blue\"]);\r\n        darkenColor(\"blue\");\r\n        break;\r\n      case 2:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"red\"]);\r\n        darkenColor(\"red\");\r\n        break;\r\n      case 3:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"green\"]);\r\n        darkenColor(\"green\");\r\n        break;\r\n    }\r\n\r\n    setMovementCounter(movementCounter + 1);\r\n    setUserStackIndex(0);\r\n  }\r\n\r\n  function printPrevStack() {\r\n\r\n    // Print all the previous simon movements\r\n    for (let i = 0; i < movementSimonStack.length; i++) {\r\n      setTimeout(() => darkenColor(movementSimonStack[i]), (i + 1) * 1000);\r\n    }\r\n\r\n    // Finally make simon move\r\n    setTimeout(simonMovement, (movementSimonStack.length + 1) * 1000);\r\n  }\r\n\r\n\r\n  function darkenColor(color) {\r\n    switch (color) {\r\n      case \"yellow\":\r\n        document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"#887b02\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"#ffea37\" }, 700);\r\n        break;\r\n      case \"blue\":\r\n        document.getElementById(\"simon_part_blue\").style.backgroundColor = \"#2e268a\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_blue\").style.backgroundColor = \"#4b3edd\"; }, 700);\r\n        break;\r\n      case \"red\":\r\n        document.getElementById(\"simon_part_red\").style.backgroundColor = \"#69241e\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_red\").style.backgroundColor = \"#dd4b3e\"; }, 700);\r\n        break;\r\n      case \"green\":\r\n        document.getElementById(\"simon_part_green\").style.backgroundColor = \"#26752d\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_green\").style.backgroundColor = \"#3edd4b\"; }, 700);\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  function colorChoice(color) {\r\n\r\n    if (inGame) {\r\n\r\n      darkenColor(color);\r\n\r\n      if (!movementSimonStack[userStackIndex] === color) {\r\n        alert(\"Sequence NOT correct, you lose\");\r\n        setInGame(false);\r\n      }\r\n\r\n      console.log(\"userIndex: \" + userStackIndex + \", MovsSimon: \" + movementCounter);\r\n\r\n      if (userStackIndex === movementCounter - 1) {\r\n        printPrevStack();\r\n      } else {\r\n        setUserStackIndex((prev) => prev + 1);\r\n      }\r\n\r\n    } else {\r\n      alert(\"Press PLAY BUTTON to start the game\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {currentView === \"simon\" &&\r\n        <div id=\"simon_game_container\">\r\n          <div id=\"upper_simon\">\r\n            <div id=\"simon_part_yellow\" onClick={() => colorChoice(\"yellow\")}></div>\r\n            <div id=\"simon_part_blue\" onClick={() => colorChoice(\"blue\")}></div>\r\n          </div>\r\n          <div id=\"lower_simon\">\r\n            <div id=\"simon_part_red\" onClick={() => colorChoice(\"red\")}></div>\r\n            <div id=\"simon_part_green\" onClick={() => colorChoice(\"green\")}></div>\r\n          </div>\r\n          <div id=\"simon_game_info\">\r\n            <input type=\"submit\" onClick={() => startGame()} className=\"simon_button\" value=\"&#9654;\" />\r\n            <input type=\"submit\" onClick={() => setInGame(false)} className=\"simon_button\" value=\"\t&#9209;\" />\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}