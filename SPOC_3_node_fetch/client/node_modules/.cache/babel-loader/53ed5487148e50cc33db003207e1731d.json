{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noefu\\\\Desktop\\\\asignaturas\\\\ub\\xEDcua\\\\labs y practicas\\\\Computacion_ubicua\\\\SPOC_3\\\\client\\\\src\\\\components\\\\Simon.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { Context } from \"./Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Simon() {\n  _s();\n\n  const {\n    value6\n  } = useContext(Context);\n  const [currentView, setCurrentView] = value6;\n  const [inGame, setInGame] = useState(false);\n  const [movementSimonStack, setMovementSimonStack] = useState([]);\n  const [userStackIndex, setUserStackIndex] = useState(0);\n  const [movementCounter, setMovementCounter] = useState(0);\n\n  function startGame() {\n    console.log(\"starting game...\");\n    setInGame(true);\n    setMovementSimonStack([]);\n    setUserStackIndex(0);\n    setMovementCounter(1);\n    simonMovement();\n  }\n\n  function simonMovement() {\n    let randomColor = Math.floor(Math.random() * 4); // rng [0,3]\n\n    console.log(movementSimonStack);\n\n    switch (randomColor) {\n      case 0:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"yellow\"]);\n        document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"grey\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"\";\n        }, 1000);\n        break;\n\n      case 1:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"blue\"]);\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\";\n        }, 1000);\n        break;\n\n      case 2:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"red\"]);\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\";\n        }, 1000);\n        break;\n\n      case 3:\n        setMovementSimonStack(prevMovementSimonStack => [...prevMovementSimonStack, \"green\"]);\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\n        setTimeout(() => {\n          document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\";\n        }, 1000);\n        break;\n    }\n\n    if (movementSimonStack.length < movementCounter) {\n      setMovementCounter(movementCounter + 1);\n      setTimeout(simonMovement, 1000);\n    } else {\n      setUserStackIndex(0);\n    }\n  }\n\n  function stopGame() {\n    setInGame(false);\n  }\n\n  function colorChoice(color) {\n    if (inGame) {\n      if (movementSimonStack[userStackIndex] === color) {\n        setUserStackIndex(userStackIndex + 1);\n      } else {\n        alert(\"Sequence NOT correct, you lose\");\n        setInGame(false);\n      }\n\n      if (userStackIndex === movementCounter - 1) {\n        simonMovement();\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: currentView === \"simon\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"simon_game_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"upper_simon\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_yellow\",\n          onClick: () => colorChoice(\"yellow\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_blue\",\n          onClick: () => colorChoice(\"blue\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"lower_simon\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_red\",\n          onClick: () => colorChoice(\"red\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"simon_part_green\",\n          onClick: () => colorChoice(\"green\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"simon_game_info\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onClick: () => startGame(),\n          className: \"simon_button\",\n          value: \"\\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onClick: () => stopGame(),\n          className: \"simon_button\",\n          value: \"\\t\\u23F9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Simon, \"XsSNabPrVH6NgColeiMAhS7+NFE=\");\n\n_c = Simon;\n\nvar _c;\n\n$RefreshReg$(_c, \"Simon\");","map":{"version":3,"sources":["C:/Users/Noefu/Desktop/asignaturas/ub√≠cua/labs y practicas/Computacion_ubicua/SPOC_3/client/src/components/Simon.js"],"names":["React","useContext","useState","Context","Simon","value6","currentView","setCurrentView","inGame","setInGame","movementSimonStack","setMovementSimonStack","userStackIndex","setUserStackIndex","movementCounter","setMovementCounter","startGame","console","log","simonMovement","randomColor","Math","floor","random","prevMovementSimonStack","document","getElementById","style","backgroundColor","setTimeout","filter","length","stopGame","colorChoice","color","alert"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"./Context\";\r\n\r\nexport default function Simon() {\r\n\r\n  const { value6 } = useContext(Context);\r\n  const [currentView, setCurrentView] = value6;\r\n  const [inGame, setInGame] = useState(false);\r\n  const [movementSimonStack, setMovementSimonStack] = useState([]);\r\n  const [userStackIndex, setUserStackIndex] = useState(0);\r\n  const [movementCounter, setMovementCounter] = useState(0);\r\n\r\n  function startGame() {\r\n    console.log(\"starting game...\");\r\n    setInGame(true);\r\n    setMovementSimonStack([]);\r\n    setUserStackIndex(0);\r\n    setMovementCounter(1);\r\n\r\n    simonMovement();\r\n  }\r\n\r\n  function simonMovement() {\r\n    let randomColor = Math.floor(Math.random() * 4); // rng [0,3]\r\n\r\n    console.log(movementSimonStack);\r\n\r\n    switch (randomColor) {\r\n      case 0:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"yellow\"]);\r\n        document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"grey\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_yellow\").style.backgroundColor = \"\" }, 1000);\r\n        break;\r\n      case 1:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"blue\"]);\r\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\"; }, 1000);\r\n        break;\r\n      case 2:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"red\"]);\r\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\"; }, 1000);\r\n        break;\r\n      case 3:\r\n        setMovementSimonStack((prevMovementSimonStack) => [...prevMovementSimonStack, \"green\"]);\r\n        document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(50%);\";\r\n        setTimeout(() => { document.getElementById(\"simon_part_yellow\").style.filter = \"brightness(100%);\"; }, 1000);\r\n        break;\r\n    }\r\n\r\n    if (movementSimonStack.length < movementCounter) {\r\n      setMovementCounter(movementCounter + 1);\r\n      setTimeout(simonMovement, 1000);\r\n    } else {\r\n      setUserStackIndex(0);\r\n    }\r\n  }\r\n\r\n  function stopGame() {\r\n    setInGame(false);\r\n  }\r\n\r\n  function colorChoice(color) {\r\n    if (inGame) {\r\n      if (movementSimonStack[userStackIndex] === color) {\r\n        setUserStackIndex(userStackIndex + 1);\r\n      } else {\r\n        alert(\"Sequence NOT correct, you lose\");\r\n        setInGame(false);\r\n      }\r\n\r\n      if (userStackIndex === movementCounter - 1) {\r\n        simonMovement();\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {currentView === \"simon\" &&\r\n        <div id=\"simon_game_container\">\r\n          <div id=\"upper_simon\">\r\n            <div id=\"simon_part_yellow\" onClick={() => colorChoice(\"yellow\")}></div>\r\n            <div id=\"simon_part_blue\" onClick={() => colorChoice(\"blue\")}></div>\r\n          </div>\r\n          <div id=\"lower_simon\">\r\n            <div id=\"simon_part_red\" onClick={() => colorChoice(\"red\")}></div>\r\n            <div id=\"simon_part_green\" onClick={() => colorChoice(\"green\")}></div>\r\n          </div>\r\n          <div id=\"simon_game_info\">\r\n            <input type=\"submit\" onClick={() => startGame()} className=\"simon_button\" value=\"&#9654;\" />\r\n            <input type=\"submit\" onClick={() => stopGame()} className=\"simon_button\" value=\"\t&#9209;\" />\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}