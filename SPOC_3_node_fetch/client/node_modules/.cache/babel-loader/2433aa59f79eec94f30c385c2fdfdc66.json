{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noefu\\\\Desktop\\\\asignaturas\\\\ub\\xEDcua\\\\labs y practicas\\\\Computacion_ubicua\\\\SPOC_3\\\\client\\\\src\\\\components\\\\Input.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Context } from \"./Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Input() {\n  _s();\n\n  const {\n    value1,\n    value2,\n    value8\n  } = useContext(Context);\n  const [socket, setSocket] = value1;\n  const [username, setUsername] = value2;\n  const [newMessage, setNewMessage] = value8;\n\n  function sendPublicMessage() {\n    // Extract the message from the box and clear it\n    if (newMessage !== \"\") {\n      let newGlobalMessage = {\n        from: username,\n        text: newMessage,\n        datetime: new Date().toLocaleString()\n      };\n      socket.emit(\"broadcast_public_message\", newGlobalMessage);\n      document.getElementById(\"input_message\").value = \"\";\n      setNewMessage(\"\");\n    }\n  }\n\n  function sendPrivateMessage() {\n    // Extract the message from the box and clear it\n    if (newMessage !== \"\") {\n      let newPrivateMessage = {\n        from: username,\n        to: currentPrivateChat,\n        text: newMessage,\n        datetime: new Date().toLocaleString()\n      };\n      socket.emit(\"send_private_message\", newPrivateMessage);\n      setPrivateMessageStack(prevMessageStack => [...prevMessageStack, newPrivateMessage]);\n      document.getElementById(\"input_message\").value = \"\";\n      setNewMessage(\"\");\n    }\n  }\n\n  function handleOnInput(e) {\n    setNewMessage(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: (currentView === \"global\" || currentView === \"private\") && /*#__PURE__*/_jsxDEV(\"footer\", {\n      id: \"footer_div\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onInput: handleOnInput,\n        type: \"text\",\n        id: \"input_message\",\n        placeholder: \"message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), currentView === \"global\" && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        onClick: sendPublicMessage,\n        id: \"input_submit\",\n        value: \"\\u27A4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), currentView === \"private\" && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        onClick: sendPrivateMessage,\n        id: \"input_submit\",\n        value: \"\\u27A4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Input, \"nuLsdvMxIaW5E/z1k/MStnGPB9c=\");\n\n_c = Input;\n\nvar _c;\n\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"sources":["C:/Users/Noefu/Desktop/asignaturas/ubÃ­cua/labs y practicas/Computacion_ubicua/SPOC_3/client/src/components/Input.js"],"names":["React","useContext","Context","Input","value1","value2","value8","socket","setSocket","username","setUsername","newMessage","setNewMessage","sendPublicMessage","newGlobalMessage","from","text","datetime","Date","toLocaleString","emit","document","getElementById","value","sendPrivateMessage","newPrivateMessage","to","currentPrivateChat","setPrivateMessageStack","prevMessageStack","handleOnInput","e","target","currentView"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,OAAT,QAAwB,WAAxB;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAE9B,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA;AAAlB,MAA6BL,UAAU,CAACC,OAAD,CAA7C;AACA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBJ,MAA5B;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BL,MAAhC;AACA,QAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BN,MAApC;;AAEA,WAASO,iBAAT,GAA6B;AAC3B;AACA,QAAIF,UAAU,KAAK,EAAnB,EAAuB;AACrB,UAAIG,gBAAgB,GAAG;AAAEC,QAAAA,IAAI,EAAEN,QAAR;AAAkBO,QAAAA,IAAI,EAAEL,UAAxB;AAAoCM,QAAAA,QAAQ,EAAE,IAAIC,IAAJ,GAAWC,cAAX;AAA9C,OAAvB;AACAZ,MAAAA,MAAM,CAACa,IAAP,CAAY,0BAAZ,EAAwCN,gBAAxC;AACAO,MAAAA,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,GAAiD,EAAjD;AACAX,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD;AACF;;AAED,WAASY,kBAAT,GAA8B;AAC5B;AACA,QAAIb,UAAU,KAAK,EAAnB,EAAuB;AACrB,UAAIc,iBAAiB,GAAG;AAAEV,QAAAA,IAAI,EAAEN,QAAR;AAAkBiB,QAAAA,EAAE,EAAEC,kBAAtB;AAA0CX,QAAAA,IAAI,EAAEL,UAAhD;AAA4DM,QAAAA,QAAQ,EAAE,IAAIC,IAAJ,GAAWC,cAAX;AAAtE,OAAxB;AACAZ,MAAAA,MAAM,CAACa,IAAP,CAAY,sBAAZ,EAAoCK,iBAApC;AACAG,MAAAA,sBAAsB,CAAEC,gBAAD,IAAsB,CAAC,GAAGA,gBAAJ,EAAsBJ,iBAAtB,CAAvB,CAAtB;AACAJ,MAAAA,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,GAAiD,EAAjD;AACAX,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD;AACF;;AAED,WAASkB,aAAT,CAAuBC,CAAvB,EAA0B;AACxBnB,IAAAA,aAAa,CAACmB,CAAC,CAACC,MAAF,CAAST,KAAV,CAAb;AACD;;AAED,sBACE;AAAA,cACG,CAACU,WAAW,KAAK,QAAhB,IAA4BA,WAAW,KAAK,SAA7C,kBACC;AAAQ,MAAA,EAAE,EAAC,YAAX;AAAA,8BACE;AAAO,QAAA,OAAO,EAAEH,aAAhB;AAA+B,QAAA,IAAI,EAAC,MAApC;AAA2C,QAAA,EAAE,EAAC,eAA9C;AAA8D,QAAA,WAAW,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,cADF,EAEGG,WAAW,KAAK,QAAhB,iBACC;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,OAAO,EAAEpB,iBAA9B;AAAiD,QAAA,EAAE,EAAC,cAApD;AAAmE,QAAA,KAAK,EAAC;AAAzE;AAAA;AAAA;AAAA;AAAA,cAHJ,EAKGoB,WAAW,KAAK,SAAhB,iBACC;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,OAAO,EAAET,kBAA9B;AAAkD,QAAA,EAAE,EAAC,cAArD;AAAoE,QAAA,KAAK,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GA/CuBrB,K;;KAAAA,K","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Context } from \"./Context\";\r\n\r\nexport default function Input() {\r\n\r\n  const { value1, value2, value8 } = useContext(Context);\r\n  const [socket, setSocket] = value1;\r\n  const [username, setUsername] = value2;\r\n  const [newMessage, setNewMessage] = value8;\r\n\r\n  function sendPublicMessage() {\r\n    // Extract the message from the box and clear it\r\n    if (newMessage !== \"\") {\r\n      let newGlobalMessage = { from: username, text: newMessage, datetime: new Date().toLocaleString() };\r\n      socket.emit(\"broadcast_public_message\", newGlobalMessage);\r\n      document.getElementById(\"input_message\").value = \"\";\r\n      setNewMessage(\"\");\r\n    }\r\n  }\r\n\r\n  function sendPrivateMessage() {\r\n    // Extract the message from the box and clear it\r\n    if (newMessage !== \"\") {\r\n      let newPrivateMessage = { from: username, to: currentPrivateChat, text: newMessage, datetime: new Date().toLocaleString() };\r\n      socket.emit(\"send_private_message\", newPrivateMessage);\r\n      setPrivateMessageStack((prevMessageStack) => [...prevMessageStack, newPrivateMessage]);\r\n      document.getElementById(\"input_message\").value = \"\";\r\n      setNewMessage(\"\");\r\n    }\r\n  }\r\n\r\n  function handleOnInput(e) {\r\n    setNewMessage(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {(currentView === \"global\" || currentView === \"private\") &&\r\n        <footer id=\"footer_div\">\r\n          <input onInput={handleOnInput} type=\"text\" id=\"input_message\" placeholder=\"message...\" />\r\n          {currentView === \"global\" &&\r\n            <input type=\"submit\" onClick={sendPublicMessage} id=\"input_submit\" value=\"&#10148;\" />\r\n          }\r\n          {currentView === \"private\" &&\r\n            <input type=\"submit\" onClick={sendPrivateMessage} id=\"input_submit\" value=\"&#10148;\" />\r\n          }\r\n        </footer>\r\n      }\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}